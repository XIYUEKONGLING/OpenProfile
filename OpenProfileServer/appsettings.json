{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore.Database.Command": "Warning",
      "ZiggyCreatures.Caching.Fusion": "Error"
    }
  },
  "AllowedHosts": "*",
  "DatabaseSettings": {
    "Type": "PgSQL",
    "ConnectionString": "Host=localhost;Database=openprofile;Username=postgres;Password=your_secure_password"
  },
  "Cache": {
    "IsEnabled": true,
    "UseRedis": true,
    "RedisConnection": "localhost:6379,password=your_redis_password",
    "InstancePrefix": "OpenProfileServer:",
    "DefaultExpirationMinutes": 30,
    "SizeLimit": 2048,
    "EnableFailSafe": true,
    "FailSafeMaxDurationMinutes": 1440,
    "FailSafeThrottleDurationSeconds": 60,
    "FactorySoftTimeoutMilliseconds": 500,
    "DistributedCacheCircuitBreakerSeconds": 5
  },
  "Security": {
    "RootUser": "root",
    "RootPassword": "CHANGE_THIS_TO_A_VERY_STRONG_PASSWORD_123!",
    "ApplicationSecret": "REPLACE_WITH_A_64_CHARACTER_RANDOM_STRING_FOR_JWT_SIGNING_SECURITY"
  },
  "Jwt": {
    "Issuer": "OpenProfileServer.Production",
    "Audience": "OpenProfileServer.Clients",
    "AccessTokenExpirationMinutes": 10,
    "RefreshTokenExpirationDays": 7
  },
  "Storage": {
    "MaxUploadSizeBytes": 10485760,
    "AllowedMimeTypes": [
      "image/jpeg",
      "image/png",
      "image/webp",
      "image/gif"
    ]
  },
  "RateLimiting": {
    "Policies": [
      {
        "Name": "general",
        "Type": "SlidingWindow",
        "PermitLimit": 100,
        "PeriodSeconds": 60,
        "QueueLimit": 10,
        "SegmentsPerWindow": 5
      },
      {
        "Name": "login",
        "Type": "FixedWindow",
        "PermitLimit": 5,
        "PeriodSeconds": 60,
        "QueueLimit": 0
      },
      {
        "Name": "register",
        "Type": "FixedWindow",
        "PermitLimit": 3,
        "PeriodSeconds": 3600,
        "QueueLimit": 0
      },
      {
        "Name": "email",
        "Type": "FixedWindow",
        "PermitLimit": 2,
        "PeriodSeconds": 60,
        "QueueLimit": 0
      }
    ]
  }
}
